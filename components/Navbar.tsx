import Link from "next/link";
import React, { useEffect, useState } from "react";
import { DiscordAlt } from "@styled-icons/boxicons-logos/DiscordAlt";
import { Github } from "@styled-icons/boxicons-logos/Github";
import { Twitter } from "@styled-icons/evaicons-solid/Twitter";
import { Menu } from "@styled-icons/boxicons-regular/Menu";

function Navbar() {
  // Initialize state with undefined width/height so server and client renders match
  const [windowSize, setWindowSize] = useState({
    width: 0,
    height: 0,
  });

  function handleResize() {
    // Set window width/height to state
    setWindowSize({
      width: window.innerWidth,
      height: window.innerHeight,
    });
  }

  useEffect(() => {
    // only execute all the code below in client side
    if (typeof window !== "undefined") {
      // Handler to call on window resize

      // Add event listener
      window.addEventListener("resize", handleResize);

      // Call handler right away so state gets updated with initial window size
      handleResize();

      // Remove event listener on cleanup
      return () => window.removeEventListener("resize", handleResize);
    }
  }, []);
  function KorokSVG() {
    return (
      <svg width="124" height="35.36" viewBox="0 0 310 88.44167245373511">
        <defs id="SvgjsDefs3260">
          <linearGradient id="SvgjsLinearGradient3265">
            <stop id="SvgjsStop3266" stopColor="#006838" offset="0"></stop>
            <stop id="SvgjsStop3267" stopColor="#96cf24" offset="1"></stop>
          </linearGradient>
        </defs>
        <g
          id="SvgjsG3261"
          transform="matrix(1.0000054836273193,0,0,1.0000054836273193,-5.0006980404048145,-5.77983034211408)"
          fill="url(#SvgjsLinearGradient3265)"
        >
          <path
            xmlns="http://www.w3.org/2000/svg"
            d="M91.933,37.231c-0.004-0.01-0.006-0.023-0.012-0.033l-8.326-15.529c0,0-0.006-0.002-0.004-0.005  c-0.012-0.017-0.024-0.028-0.034-0.042c-0.037-0.068-0.093-0.117-0.142-0.175c-0.059-0.076-0.111-0.149-0.183-0.21  c-0.021-0.021-0.031-0.051-0.054-0.069c-0.015-0.01-0.027-0.01-0.036-0.018c-0.063-0.05-0.143-0.077-0.212-0.116  c-0.062-0.033-0.104-0.087-0.169-0.113L49.793,7.506c-0.142-0.058-0.287-0.088-0.436-0.105c-0.012-0.001-0.021-0.008-0.035-0.01  c-0.024-0.003-0.045,0.009-0.069,0.005c-0.182-0.006-0.365,0.008-0.541,0.059c-0.018,0.008-0.036,0.005-0.054,0.011  c-0.129,0.042-0.255,0.098-0.372,0.173L16.709,27.534c-0.012,0.006-0.019,0.013-0.031,0.018l-0.039,0.025  c-0.043,0.024-0.068,0.073-0.106,0.103c-0.125,0.098-0.249,0.198-0.342,0.33c-0.058,0.081-0.085,0.173-0.129,0.261  c-0.045,0.094-0.109,0.172-0.137,0.273l-6.41,23.757c-0.015,0.054,0,0.101-0.011,0.156c-0.018,0.103-0.027,0.203-0.026,0.306  c0.001,0.054-0.01,0.107-0.004,0.166c0.006,0.06,0.032,0.11,0.046,0.17c0.021,0.089,0.048,0.179,0.086,0.269  c0.023,0.052,0.033,0.11,0.062,0.159c0.031,0.062,0.081,0.103,0.12,0.153c0.028,0.047,0.039,0.098,0.076,0.137l21.34,24.495  c0.061,0.069,0.135,0.116,0.204,0.172c0.052,0.044,0.1,0.095,0.161,0.136c0.159,0.098,0.33,0.178,0.509,0.216  c0,0,0.001,0,0.002,0.003c0.062,0.013,0.127,0.025,0.193,0.03l31.644,3.389c0.025,0.005,0.052-0.01,0.079-0.008  c0.064,0.003,0.129,0.016,0.19,0.008c0.051,0,0.106-0.013,0.158-0.022c0.063-0.014,0.129-0.021,0.191-0.034  c0.014-0.005,0.029-0.002,0.041-0.01c0.021-0.003,0.041-0.016,0.059-0.023c0.06-0.022,0.114-0.051,0.175-0.082  c0.079-0.038,0.161-0.079,0.239-0.133c0.023-0.021,0.052-0.031,0.076-0.052c0.013-0.008,0.018-0.018,0.025-0.028  c0.021-0.018,0.034-0.035,0.051-0.056c0.041-0.039,0.092-0.064,0.13-0.108l19.033-21.535c0.003-0.002,0.005-0.008,0.008-0.01  c0.059-0.072,0.094-0.162,0.144-0.241c0.045-0.077,0.1-0.148,0.132-0.23c0.009-0.023,0.029-0.041,0.04-0.069l0.005-0.013  c-0.001-0.003-0.001-0.003-0.001-0.003l7.334-21.086c0.002-0.013,0-0.023,0.002-0.036c0.043-0.123,0.045-0.259,0.055-0.393  c0.004-0.082,0.033-0.161,0.025-0.243c-0.008-0.092-0.048-0.182-0.072-0.274C92.006,37.457,91.986,37.339,91.933,37.231z   M50.606,11.405l24.812,10.097l-26.014,2.753L50.606,11.405z M48.325,27.694l31.667-3.354l-5.914,25.008l-40.354,8.039  l-2.958-12.125L48.325,27.694z M47.211,12.223l-1.231,13.143L29.14,42.21l-9.246-12.776L47.211,12.223z M18.214,32.75l9.199,12.706  l2.786,11.431L13.12,51.623L18.214,32.75z M33.27,75.654L16.163,56.017l15.61,4.812l25.873,17.434L33.27,75.654z M63.812,78.436  L36.705,60.164l38.149-7.598l6.048,6.536L63.812,78.436z M82.474,55.939l-5.22-5.65l5.487-23.214l5.924,11.043L82.474,55.939z   M12.984,24.844c0.346,0,0.692-0.136,0.95-0.406c0.501-0.523,0.48-1.354-0.042-1.856l-6.672-6.373  c-0.525-0.5-1.356-0.482-1.856,0.042c-0.5,0.524-0.482,1.354,0.042,1.856l6.672,6.374C12.333,24.724,12.659,24.844,12.984,24.844z   M17.378,22.21c0.031,0.001,0.062,0.002,0.094,0.002c0.683,0,1.258-0.528,1.309-1.22l0.387-5.458  c0.051-0.723-0.495-1.351-1.218-1.402c-0.708-0.04-1.35,0.493-1.402,1.216l-0.387,5.458C16.109,21.531,16.655,22.159,17.378,22.21z   M12.328,28.567c0-0.726-0.587-1.312-1.312-1.312H8.495c-0.724,0-1.312,0.587-1.312,1.312c0,0.724,0.588,1.312,1.312,1.312h2.521  C11.741,29.88,12.328,29.292,12.328,28.567z M83.942,17.35c0.101,0.023,0.203,0.035,0.304,0.035c0.595,0,1.133-0.406,1.275-1.01  l2.126-8.98c0.168-0.706-0.27-1.412-0.974-1.58c-0.703-0.166-1.413,0.271-1.579,0.976l-2.127,8.979  C82.8,16.476,83.237,17.182,83.942,17.35z M94.863,15.604c-0.321-0.648-1.105-0.917-1.758-0.595L88.2,17.435  c-0.65,0.32-0.917,1.108-0.595,1.758c0.229,0.463,0.693,0.73,1.178,0.73c0.194,0,0.394-0.043,0.58-0.136l4.905-2.425  C94.919,17.042,95.186,16.254,94.863,15.604z M76.709,82.931l-7.266-0.768c-0.73-0.087-1.369,0.446-1.443,1.166  c-0.076,0.722,0.446,1.368,1.167,1.443l7.266,0.768c0.048,0.006,0.094,0.008,0.14,0.008c0.663,0,1.233-0.501,1.304-1.174  C77.953,83.652,77.43,83.007,76.709,82.931z M68.105,87.476c-0.348-0.634-1.145-0.87-1.781-0.522  c-0.636,0.347-0.871,1.145-0.523,1.781l2.622,4.803c0.239,0.436,0.688,0.683,1.154,0.683c0.212,0,0.428-0.051,0.628-0.16  c0.636-0.347,0.87-1.145,0.522-1.781L68.105,87.476z M62.19,86.783c-0.644-0.333-1.437-0.089-1.772,0.553l-1.344,2.56  c-0.337,0.643-0.09,1.436,0.553,1.772c0.194,0.102,0.403,0.15,0.608,0.15c0.474,0,0.93-0.255,1.164-0.702l1.344-2.56  C63.08,87.914,62.832,87.121,62.19,86.783z"
          ></path>
        </g>
        <g
          id="SvgjsG3262"
          transform="matrix(0.9702143669128418,0,0,0.9702143669128418,107.18637829699077,19.52168762757602)"
          fill="#ffffff"
        >
          <path d="M23.14 39.28 c0.28 0.4 0.12 0.72 -0.36 0.72 l-3.06 0 c-0.32 0 -0.52 -0.08 -0.72 -0.36 l-9.26 -12.6 l-3.1 3.48 l0 8.88 c0 0.36 -0.24 0.6 -0.6 0.6 l-2.54 0 c-0.36 0 -0.6 -0.24 -0.6 -0.6 l0 -26.8 c0 -0.36 0.24 -0.6 0.6 -0.6 l2.54 0 c0.36 0 0.6 0.24 0.6 0.6 l0 12.94 l11.64 -13.22 c0.2 -0.24 0.44 -0.32 0.72 -0.32 l3.2 0 c0.52 0 0.68 0.36 0.32 0.72 l-10.36 11.62 z M37.480000000000004 40.52 c-5.72 0 -10.3 -4.5 -10.3 -10.28 c0 -5.76 4.58 -10.28 10.3 -10.28 c5.7 0 10.28 4.52 10.28 10.28 c0 5.78 -4.58 10.28 -10.28 10.28 z M37.480000000000004 37.16 c3.82 0 6.78 -3.08 6.78 -6.92 c0 -3.82 -2.96 -6.94 -6.78 -6.94 c-3.84 0 -6.8 3.12 -6.8 6.94 c0 3.84 2.96 6.92 6.8 6.92 z M64.60000000000001 19.96 c4.4 0 7.54 2.46 7.54 7.36 c0 0.42 -0.22 0.6 -0.6 0.64 l-2.4 0.32 c-0.38 0.04 -0.58 -0.16 -0.62 -0.54 c-0.12 -3.06 -1.98 -4.44 -4.84 -4.44 c-4.46 0 -6.62 3.74 -6.62 5.08 l0 11.02 c0 0.36 -0.24 0.6 -0.6 0.6 l-2.4 0 c-0.36 0 -0.6 -0.24 -0.6 -0.6 l0 -18.4 c0 -0.36 0.24 -0.6 0.6 -0.6 l2.24 0 c0.36 0 0.56 0.24 0.6 0.6 l0.16 2.7 l0.46 0 c1.28 -1.9 3.78 -3.74 7.08 -3.74 z M87.24 40.52 c-5.72 0 -10.3 -4.5 -10.3 -10.28 c0 -5.76 4.58 -10.28 10.3 -10.28 c5.7 0 10.28 4.52 10.28 10.28 c0 5.78 -4.58 10.28 -10.28 10.28 z M87.24 37.16 c3.82 0 6.78 -3.08 6.78 -6.92 c0 -3.82 -2.96 -6.94 -6.78 -6.94 c-3.84 0 -6.8 3.12 -6.8 6.94 c0 3.84 2.96 6.92 6.8 6.92 z M121.46 39.28 c0.32 0.4 0.12 0.72 -0.36 0.72 l-2.86 0 c-0.32 0 -0.5 -0.08 -0.72 -0.36 l-6.92 -8.3 l-3.78 3.96 l0 4.1 c0 0.36 -0.24 0.6 -0.6 0.6 l-2.4 0 c-0.36 0 -0.6 -0.24 -0.6 -0.6 l0 -28 c0 -0.36 0.24 -0.6 0.6 -0.6 l2.4 0 c0.36 0 0.6 0.24 0.6 0.6 l0 19.36 l9.4 -10.04 c0.24 -0.24 0.48 -0.32 0.76 -0.32 l3.04 0 c0.52 0 0.7 0.32 0.32 0.72 l-7.46 7.82 z M133.82 12 c9.7 0 14.66 6.1 14.66 14 c0 7.88 -4.96 14 -14.66 14 l-6.7 0 c-0.36 0 -0.6 -0.24 -0.6 -0.6 l0 -26.8 c0 -0.36 0.24 -0.6 0.6 -0.6 l6.7 0 z M133.82 36.6 c7.26 0 10.86 -4.02 10.86 -10.6 c0 -6.6 -3.6 -10.6 -10.86 -10.6 l-3.56 0 l0 21.2 l3.56 0 z M176.22 39.32 c0.16 0.4 -0.04 0.68 -0.48 0.68 l-2.58 0 c-0.32 0 -0.54 -0.12 -0.68 -0.48 l-1.98 -5.38 l-12.84 0 l-1.98 5.38 c-0.14 0.36 -0.36 0.48 -0.68 0.48 l-2.58 0 c-0.44 0 -0.64 -0.28 -0.48 -0.68 l10.16 -26.84 c0.12 -0.32 0.4 -0.48 0.72 -0.48 l2.52 0 c0.32 0 0.6 0.16 0.72 0.48 z M158.88 30.84 l10.4 0 l-5.2 -14.16 z M194.72 40.52 c-7.92 0 -14.34 -6.4 -14.34 -14.4 c0 -8.04 6.42 -14.44 14.34 -14.44 c7.9 0 14.32 6.4 14.32 14.44 c0 8 -6.42 14.4 -14.32 14.4 z M194.72 36.98 c5.94 0 10.64 -4.8 10.64 -10.86 c0 -6.1 -4.7 -10.9 -10.64 -10.9 c-5.96 0 -10.66 4.8 -10.66 10.9 c0 6.06 4.7 10.86 10.66 10.86 z"></path>
        </g>
      </svg>
    );
  }
  // @ts-ignore
  function NavButton({ text, link }) {
    return (
      <div className="my-auto cursor-pointer">
        <Link href={link}>
          <a>
            <h1 className="text-sm">{text}</h1>
          </a>
        </Link>
      </div>
    );
  }

  return (
    <nav className="bg-black bg-opacity-50 backdrop-blur-xl">
      <div className="max-w-[1100px] mx-auto font-mono flex flex-row p-4">
        <div className="flex-row flex space-x-10">
          {windowSize.width < 800 ? (
            <>
              <Menu className="w-8 cursor-pointer" />
              <div className="w-[1px] bg-white h-5 my-auto" />
              <div className="cursor-pointer">
                <Link href="/">
                  <a>
                    <KorokSVG />
                  </a>
                </Link>
              </div>
            </>
          ) : (
            <>
              <div className="cursor-pointer">
                <Link href="/">
                  <a>
                    <KorokSVG />
                  </a>
                </Link>
              </div>
              <div className="w-[1px] bg-white h-5 my-auto" />
              <NavButton text="Bounties" link="/bounties" />
              <NavButton text="Get Listed" link="/getlisted" />
              <NavButton text="Governance" link="/governance" />
              <NavButton text="About" link="/about" />
            </>
          )}
        </div>
        <a className="w-6 ml-auto my-auto" href="https://discord.gg/Zydc7FtCs8">
          <DiscordAlt />
        </a>
        <a
          className="w-6 ml-3 my-auto"
          href="https://github.com/Haruxe/korokdao"
        >
          <Github />
        </a>
        <a className="w-6 ml-3 my-auto" href="https://twitter.com">
          <Twitter />
        </a>
      </div>
    </nav>
  );
}

export default Navbar;
